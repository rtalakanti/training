name: Coffee Order Workflow
id: coffeeorder
version: "1.0"
description: Workflow for processing Coffee Orders
start: PlaceOrder
events:
  - kind: consumed
    name: CoffeeOrderEvent
    type: coffeeOrderEvent
    source: coffeeOrderEvent
functions:
  - name: greetFunction
    metadata:
      type: sysout
states:
  - name: PlaceOrder
    type: event
    onEvents:
      - eventRefs:
          - "CoffeeOrderEvent"
    transition: GreetInEnglish
  - name: GreetInEnglish
    type: inject
    data:
      greeting: 'Hello from YAML Workflow, '
    transition: GreetPerson
  - name: GreetPerson
    type: operation
    actions:
      - name: greetAction
        functionRef:
          refName: greetFunction
          arguments:
            message: "$.greeting $.name"
    end:
      terminate: true